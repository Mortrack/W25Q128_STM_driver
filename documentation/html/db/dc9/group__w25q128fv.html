<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>W25Q128FV Flash Memory Driver module C STMicroelectronics driver library documentation: W25Q128FV Flash Memory module</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">W25Q128FV Flash Memory Driver module C STMicroelectronics driver library documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">W25Q128FV Flash Memory module</div></div>
</div><!--header-->
<div class="contents">

<p>This module provides the functions, definitions, structures and variables that together work as the driver for the W25Q128FV Flash Memory Device with the purpose of being used by the application firmware.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html">W25Q128FV_GPIO_def_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">W25Q128FV Driver GPIO Definition parameters structure.  <a href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html">W25Q128FV_peripherals_def_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">W25Q128FV Flash Memory Device's Peripherals Definition parameters structure.  <a href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa59647f7784c336e9539eb9bc9c2a17f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gaa59647f7784c336e9539eb9bc9c2a17f">W25Q128FV_SPI_TIMEOUT</a>&#160;&#160;&#160;(8500)</td></tr>
<tr class="memdesc:gaa59647f7784c336e9539eb9bc9c2a17f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Designated timeout in milliseconds for our MCU/MPU to send/receive SPI transactions/data.  <br /></td></tr>
<tr class="separator:gaa59647f7784c336e9539eb9bc9c2a17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gafb2edaca4d0a754d0297ee5f3e0717b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> { <br />
&#160;&#160;<a class="el" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a> = 0U
, <a class="el" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a1df960356a8b4b8cdf9ac703ba35be7c">W25Q128FV_EC_STOP</a> = 1U
, <a class="el" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a8714ed72c29dd441de0e2f1ed623b16b">W25Q128FV_EC_NR</a> = 2U
, <a class="el" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a18cf097ab1a2c9b81e96b0a99a673557">W25Q128FV_EC_NA</a> = 3U
, <br />
&#160;&#160;<a class="el" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2">W25Q128FV_EC_ERR</a> = 4U
<br />
 }</td></tr>
<tr class="memdesc:gafb2edaca4d0a754d0297ee5f3e0717b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">W25Q128FV Exception codes.  <a href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">More...</a><br /></td></tr>
<tr class="separator:gafb2edaca4d0a754d0297ee5f3e0717b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd13a069f5a578d14510144dc9ab342a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gadd13a069f5a578d14510144dc9ab342a">w25q128fv_software_reset</a> (void)</td></tr>
<tr class="memdesc:gadd13a069f5a578d14510144dc9ab342a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a Software Reset request to the W25Q128FV Flash Memory Device.  <br /></td></tr>
<tr class="separator:gadd13a069f5a578d14510144dc9ab342a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaac3e0a6464888e0415b4ac222495a4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gaaac3e0a6464888e0415b4ac222495a4a">w25q128fv_read_id</a> (uint32_t *w25q128fv_id)</td></tr>
<tr class="memdesc:gaaac3e0a6464888e0415b4ac222495a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the JEDEC ID of the W25Q128FV Flash Memory Device and then formulates a 24-bit ID with it.  <br /></td></tr>
<tr class="separator:gaaac3e0a6464888e0415b4ac222495a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2f2b471e62406dd5127b01716398c6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a> (uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *dst)</td></tr>
<tr class="memdesc:gaa2f2b471e62406dd5127b01716398c6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a desired segment of the Flash Memory of the W25Q128FV device.  <br /></td></tr>
<tr class="separator:gaa2f2b471e62406dd5127b01716398c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacba905401cc4cb470ea8044f9f3aeff8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a> (uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *dst)</td></tr>
<tr class="memdesc:gacba905401cc4cb470ea8044f9f3aeff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a desired segment of the Flash Memory of the W25Q128FV Device in Fast Mode.  <br /></td></tr>
<tr class="separator:gacba905401cc4cb470ea8044f9f3aeff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3c2bcc44deed581ecd61975378ca615"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#gaa3c2bcc44deed581ecd61975378ca615">w25q128fv_erase_sector</a> (uint32_t sector_number)</td></tr>
<tr class="memdesc:gaa3c2bcc44deed581ecd61975378ca615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases the data contained in a desired Flash Memory Sector of the W25Q128FV Flash Memory Device.  <br /></td></tr>
<tr class="separator:gaa3c2bcc44deed581ecd61975378ca615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9552b91769f4583cd623ee75e6a18aa1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#ga9552b91769f4583cd623ee75e6a18aa1">w25q128fv_chip_erase</a> (void)</td></tr>
<tr class="memdesc:ga9552b91769f4583cd623ee75e6a18aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases all the data contained in the W25Q128FV Flash Memory Device.  <br /></td></tr>
<tr class="separator:ga9552b91769f4583cd623ee75e6a18aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ef3cff981199be47cc895783206c069"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a> (uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *src)</td></tr>
<tr class="memdesc:ga8ef3cff981199be47cc895783206c069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes some desired data into the Flash Memory of the W25Q128FV device.  <br /></td></tr>
<tr class="separator:ga8ef3cff981199be47cc895783206c069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3917858d3b2cca79e0f42d68249908a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc9/group__w25q128fv.html#ga3917858d3b2cca79e0f42d68249908a5">init_w25q128fv_module</a> (SPI_HandleTypeDef *hspi, <a class="el" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html">W25Q128FV_peripherals_def_t</a> *peripherals)</td></tr>
<tr class="memdesc:ga3917858d3b2cca79e0f42d68249908a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> in order to be able to use its provided functions.  <br /></td></tr>
<tr class="separator:ga3917858d3b2cca79e0f42d68249908a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module provides the functions, definitions, structures and variables that together work as the driver for the W25Q128FV Flash Memory Device with the purpose of being used by the application firmware. </p>
<p>As for now, this <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> provides the necessary things so that it is possible to read, write and erase data in Standard SPI. However, it is still pending to add functions to be able to use the full features available in the W25Q128FV Flash Memory Device such as the "32KB Block Erase" Instruction or the Instructions available for the Dual or Quad SPI Modes for example.</p>
<p>The way that the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> works is that this module must first be initialized via the <a class="el" href="../../db/dc9/group__w25q128fv.html#ga3917858d3b2cca79e0f42d68249908a5">init_w25q128fv_module</a> function in order to enable all the other functions to work properly. In addition, this initialization function is the means with which the implementer will designate to the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> the SPI of the MCU/MPU that this module will use (remember to enable the given SPI at the STM32CubeMX app) to read, write and erase data from/to the W25Q128FV Flash Memory Device. Also, this initialization function is where the implementer will also tell what Output GPIO Pin is connected to the CS Pin of the W25Q128FV Device.</p>
<p><b><u>Code used for validating the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> , but that can also be used as a reference as an example code for using this Driver Library:</u></b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span>  <span class="comment">// Library from which &quot;printf&quot; is located at.</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span> <span class="comment">// This library contains the aliases: uint8_t, uint16_t, uint32_t, etc.</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d32/w25q128fv__driver_8h.html">w25q128fv_driver.h</a>&quot;</span> <span class="comment">// This custom Mortrack&#39;s library contains the functions, definitions and variables that together operate as the driver for the W25Q128FV Flash Memory Device.</span></div>
<div class="line"> </div>
<div class="line">SPI_HandleTypeDef hspi1;</div>
<div class="line">UART_HandleTypeDef huart1;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> SystemClock_Config(<span class="keywordtype">void</span>); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> MX_GPIO_Init(<span class="keywordtype">void</span>); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> MX_SPI1_Init(<span class="keywordtype">void</span>); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> MX_USART1_UART_Init(<span class="keywordtype">void</span>); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    HAL_Init(); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line">    SystemClock_Config(); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line">    MX_GPIO_Init(); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line">    MX_SPI1_Init(); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line">    MX_USART1_UART_Init(); <span class="comment">// STM32CubeMx autogenerated code, whose function contents will not be cited here for simplicity (see the STM32CubeMx PDF report for more details on the configurations made).</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ########################################################## //</span></div>
<div class="line">    <span class="comment">// ##### INITIALIZE THE W25Q128FV DRIVER LIBRARY MODULE ##### //</span></div>
<div class="line">    <span class="comment">// ########################################################## //</span></div>
<div class="line">    <a class="code hl_enumeration" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> ret; <span class="comment">// Variable that will be used to hold the Exception codes after calling a function from the W25Q128FV Driver Library.</span></div>
<div class="line">    <a class="code hl_struct" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html">W25Q128FV_peripherals_def_t</a> flash_memory_peripherals; <span class="comment">// Variable to hold the W25Q128FV Flash Memory Device&#39;s Peripherals Definition parameters structure.</span></div>
<div class="line">    flash_memory_peripherals.<a class="code hl_variable" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html#a0512e194dd231f8637d2ef83b338f068">CS</a>.<a class="code hl_variable" href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html#a7ba6b71e06b666840b242b493f787d23">GPIO_Port</a> = GPIOB; <span class="comment">// I specify here that my W25Q128FV Device&#39;s CS Pin is connected in a Pin B of my MCU.</span></div>
<div class="line">    flash_memory_peripherals.<a class="code hl_variable" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html#a0512e194dd231f8637d2ef83b338f068">CS</a>.<a class="code hl_variable" href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html#a619adea3bd0744a5f7fb77bf300b8cb5">GPIO_Pin</a> = GPIO_PIN_6; <span class="comment">// I specify here that my W25Q128FV Device&#39;s CS Pin is connected to a Pin number 6 of my MCU.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;INFO: Initializing the W25Q128FV Driver Library Module...\r\n&quot;</span>);</div>
<div class="line">    <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga3917858d3b2cca79e0f42d68249908a5">init_w25q128fv_module</a>(&amp;hspi1, &amp;flash_memory_peripherals); <span class="comment">// Initialize the W25Q128FV Driver Library Module.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;SUCCESS: The W25Q128FV Driver Library Module has been successfully initialized.\r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ######################################################## //</span></div>
<div class="line">    <span class="comment">// ##### INITIALIZE THE W25Q128FV FLASH MEMORY DEVICE ##### //</span></div>
<div class="line">    <span class="comment">// ######################################################## //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;INFO: Sending a Software Reset request to the W25Q128FV Flash Memory Device...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gadd13a069f5a578d14510144dc9ab342a">w25q128fv_software_reset</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_software_reset() function exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Software Reset request has been successfully sent to the W25Q128FV Flash Memory Device.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ##### READING THE ID OF THE W25Q128FV FLASH MEMORY DEVICE ##### //</span></div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    uint32_t w25q128fv_id = 0; <span class="comment">// Variable that will be used to store the ID of the W25Q128FV Flash Memory Device.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;INFO: Getting the 24-bit ID of the W25Q128FV Flash Memory Device...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaaac3e0a6464888e0415b4ac222495a4a">w25q128fv_read_id</a>(&amp;w25q128fv_id);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_read_id() function exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: A 24-bit ID with a value of %lu_d of the W25Q128FV Flash Memory Device has been obtained.\r\n&quot;</span>, w25q128fv_id);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ########################################################################################## //</span></div>
<div class="line">    <span class="comment">// ##### ERASING THE W25Q128FV FLASH MEMORY DEVICE BEFORE VALIDATING THE DRIVER LIBRARY ##### //</span></div>
<div class="line">    <span class="comment">// ########################################################################################## //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;INFO: Erasing all the data contained in the W25Q128FV Flash Memory Device before starting to test the Driver Library in it...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga9552b91769f4583cd623ee75e6a18aa1">w25q128fv_chip_erase</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_chip_erase() function exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: All the data inside the W25Q128FV Flash Memory Device has been erased.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ##### WRITING DATA INTO THE W25Q128FV FLASH MEMORY DEVICE ##### //</span></div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ----- WRITING TEST 1: Writing 16 bytes at the beginning of the W25Q128FV Flash Memory (i.e., Page 0) ----- //</span></div>
<div class="line">    uint8_t page0_data[256]; <span class="comment">// Variable where the generated data that wants to be stored at the W25Q128FV Flash Memory Page 0 will be stored in our MCU/MPU.</span></div>
<div class="line">    memset(page0_data, <span class="charliteral">&#39;X&#39;</span>, 256); <span class="comment">// Setting all bytes of &quot;page0_data&quot; to the value of the &#39;X&#39; ASCII Character.</span></div>
<div class="line">    page0_data[0] = <span class="charliteral">&#39;H&#39;</span>;</div>
<div class="line">    page0_data[1] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page0_data[2] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page0_data[3] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page0_data[4] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page0_data[5] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page0_data[6] = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line">    page0_data[7] = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line">    page0_data[8] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page0_data[9] = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line">    page0_data[10] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page0_data[11] = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line">    page0_data[12] = <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line">    page0_data[13] = <span class="charliteral">&#39;g&#39;</span>;</div>
<div class="line">    page0_data[14] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page0_data[15] = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line">    printf(<span class="stringliteral">&quot;WRITING TEST 1: Writing 16 bytes at the beginning of the W25Q128FV Flash Memory (i.e., Page 0)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a>(0, 0, 16, page0_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at WRITING TEST 1 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program to stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: w25q128fv_write_flash_memory() at WRITING TEST 1 has successfully sent the required Page Program Instructions.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- WRITING TEST 2: Writing data into two full pages of the W25Q128FV Flash Memory with only one function call (into Page 10 and 11) ----- //</span></div>
<div class="line">    uint8_t page10_and_11_data[512]; <span class="comment">// Variable where the generated data that wants to be stored at the W25Q128FV Flash Memory Pages 10 and 11 will be stored in our MCU/MPU.</span></div>
<div class="line">    uint8_t number_to_store = 0; <span class="comment">// Temporal variable that will be used to hold the value that wants to be assigned to the current byte of the &quot;page10_and_11_data&quot; variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;512; i++)</div>
<div class="line">    {</div>
<div class="line">        page10_and_11_data[i] = number_to_store++; <span class="comment">// Store the desired data into the &quot;page10_and_11_data&quot; variable.</span></div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;WRITING TEST 2: Writing data into two full pages of the W25Q128FV Flash Memory with only one function call (into Page 10 and 11)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a>(10, 0, 512, page10_and_11_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at WRITING TEST 2 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: w25q128fv_write_flash_memory() at WRITING TEST 2 has successfully sent the required Page Program Instructions.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- WRITING TEST 3: Writing 17 bytes of data into Page 15 of the W25Q128FV Flash Memory with an offset of 246 bytes such that the expected result is to end up writing the first 10 bytes of data into the last 10 bytes of page 15 and the next 7 bytes of data into the beginning of page 16 (due to page overflow because of the specified bytes offset) ----- //</span></div>
<div class="line">    uint8_t page15_data[256]; <span class="comment">// Variable where the generated data that wants to be stored at the W25Q128FV Flash Memory Page 15 will be stored in our MCU/MPU.</span></div>
<div class="line">    memset(page15_data, <span class="charliteral">&#39;X&#39;</span>, 256); <span class="comment">// Setting all bytes of &quot;page15_data&quot; to the value of the &#39;X&#39; ASCII Character.</span></div>
<div class="line">    page15_data[0] = <span class="charliteral">&#39;H&#39;</span>;</div>
<div class="line">    page15_data[1] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page15_data[2] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page15_data[3] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page15_data[4] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page15_data[5] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page15_data[6] = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line">    page15_data[7] = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line">    page15_data[8] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page15_data[9] = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line">    page15_data[10] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page15_data[11] = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line">    page15_data[12] = <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line">    page15_data[13] = <span class="charliteral">&#39;g&#39;</span>;</div>
<div class="line">    page15_data[14] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page15_data[15] = <span class="charliteral">&#39;1&#39;</span>;</div>
<div class="line">    page15_data[16] = <span class="charliteral">&#39;5&#39;</span>;</div>
<div class="line">    printf(<span class="stringliteral">&quot;WRITING TEST 3: Writing 17 bytes of data into Page 15 of the W25Q128FV Flash Memory with an offset of 246 bytes such that the expected result is to end up writing the first 10 bytes of data into the last 10 bytes of page 15 and the next 7 bytes of data into the beginning of page 16 (due to page overflow because of the specified bytes offset)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a>(15, 246, 17, page15_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at WRITING TEST 3 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: w25q128fv_write_flash_memory() at WRITING TEST 3 has successfully sent the required Page Program Instructions.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- WRITING TEST 4: Writing 256 bytes into the last Page of the W25Q128FV Flash Memory (i.e., Page 65355) ----- //</span></div>
<div class="line">    uint8_t page65355_data[256]; <span class="comment">// Variable where the generated data that wants to be stored at the W25Q128FV Flash Memory Page 65355 will be stored in our MCU/MPU.</span></div>
<div class="line">    memset(page65355_data, <span class="charliteral">&#39;X&#39;</span>, 256); <span class="comment">// Setting all bytes of &quot;page65355_data&quot; to the value of the &#39;X&#39; ASCII Character.</span></div>
<div class="line">    page65355_data[0] = <span class="charliteral">&#39;H&#39;</span>;</div>
<div class="line">    page65355_data[1] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page65355_data[2] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page65355_data[3] = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    page65355_data[4] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page65355_data[5] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page65355_data[6] = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line">    page65355_data[7] = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line">    page65355_data[8] = <span class="charliteral">&#39;o&#39;</span>;</div>
<div class="line">    page65355_data[9] = <span class="charliteral">&#39;m&#39;</span>;</div>
<div class="line">    page65355_data[10] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line">    page65355_data[11] = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line">    page65355_data[12] = <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line">    page65355_data[13] = <span class="charliteral">&#39;g&#39;</span>;</div>
<div class="line">    page65355_data[14] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">    page65355_data[15] = <span class="charliteral">&#39;6&#39;</span>;</div>
<div class="line">    page65355_data[16] = <span class="charliteral">&#39;5&#39;</span>;</div>
<div class="line">    page65355_data[17] = <span class="charliteral">&#39;3&#39;</span>;</div>
<div class="line">    page65355_data[18] = <span class="charliteral">&#39;5&#39;</span>;</div>
<div class="line">    page65355_data[19] = <span class="charliteral">&#39;5&#39;</span>;</div>
<div class="line">    printf(<span class="stringliteral">&quot;WRITING TEST 4: Writing 256 bytes into the last Page of the W25Q128FV Flash Memory (i.e., Page 65355)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a>(65355, 0, 256, page65355_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at WRITING TEST 4 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: w25q128fv_write_flash_memory() at WRITING TEST 4 has successfully sent the required Page Program Instructions.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- WRITING TEST 5: Validating that the W25Q128FV Driver Library returns the expected Exception Code whenever asking it to Write one byte of Data into a Flash Memory Address beyond the existing ones.  ----- //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;WRITING TEST 5: Validating that the W25Q128FV Driver Library returns the expected Exception Code whenever asking it to Write one byte of Data into a Flash Memory Address beyond the existing ones...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a>(65355, 237, 20, page65355_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2">W25Q128FV_EC_ERR</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCESS: w25q128fv_write_flash_memory() at WRITING TEST 5 has returned the expected exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at WRITING TEST 5 has returned an unexpected exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ##### READING DATA FROM THE W25Q128FV FLASH MEMORY DEVICE ##### //</span></div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    uint8_t is_reading_writing_test_validation_successful = 1; <span class="comment">// Variable used to set a 1 if a certain Reading Writing Test is successful or to set a 0 if otherwise.</span></div>
<div class="line">    <span class="comment">// ----- READING WRITING TEST 1: Expecting to see the 16 bytes that were supposedly written at the beginning of the W25Q128FV Flash Memory (i.e., Page 0) ----- //</span></div>
<div class="line">    uint8_t page0_read_data[256]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Page 0 into our MCU/MPU.</span></div>
<div class="line">    memset(page0_read_data, 0, 256); <span class="comment">// Setting all bytes of &quot;page0_data&quot; to the value of 0 in decimal as initial values before reading data from the W25Q128FV Device.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;READING WRITING TEST 1: Expecting to see the 16 bytes that were supposedly written at the beginning of the W25Q128FV Flash Memory (i.e., Page 0)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a>(0, 0, 256, page0_read_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at READING WRITING TEST 1 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;16; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page0_read_data[i] != page0_data[i]) <span class="comment">// Expecting that the read data from the W25Q128FV Flash Memory matches the one that was sent.</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=16; i&lt;256; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page0_read_data[i] != 0xFF) <span class="comment">// Expecting these other read bytes from the W25Q128FV Flash Memory to have the reset value since they were not used (i.e., 0xFF).</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Reading Writing Test 1 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Reading Writing Test 1 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- READING WRITING TEST 2: Expecting to see the two pages of the W25Q128FV Flash Memory that were supposedly fully written with data with only one function call (into Page 10 and 11) ----- //</span></div>
<div class="line">    uint8_t page10_and_11_read_data[512]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Page 10 and 11 into our MCU/MPU.</span></div>
<div class="line">    memset(page10_and_11_read_data, 0, 512); <span class="comment">// Setting all bytes of &quot;page10_and_11_read_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;READING WRITING TEST 2: Expecting to see the two pages of the W25Q128FV Flash Memory that were supposedly fully written with data with only one function call (into Page 10 and 11)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a>(10, 0, 512, page10_and_11_read_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at READING WRITING TEST 2 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Resetting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;512; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page10_and_11_read_data[i] != page10_and_11_data[i]) <span class="comment">// Expecting that the read data from the W25Q128FV Flash Memory matches the one that was sent.</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Reading Writing Test 2 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Reading Writing Test 2 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- READING WRITING TEST 3: Expecting to see the 17 bytes that were supposedly written at Page 15 of the W25Q128FV Flash Memory with an offset of 246 bytes ----- //</span></div>
<div class="line">    uint8_t page15_read_data[256]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Page 15 into our MCU/MPU.</span></div>
<div class="line">    memset(page15_read_data, 0, 256); <span class="comment">// Setting all bytes of &quot;page15_read_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;READING WRITING TEST 3: Expecting to see the 17 bytes that were supposedly written at Page 15 of the W25Q128FV Flash Memory with an offset of 246 bytes...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a>(15, 246, 18, page15_read_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_write_flash_memory() at READING WRITING TEST 3 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Reseting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;17; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page15_read_data[i] != page15_data[i]) <span class="comment">// Expecting that the read data from the W25Q128FV Flash Memory matches the one that was sent.</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (page15_read_data[17] != 0xFF) <span class="comment">// Expecting this other read byte from the W25Q128FV Flash Memory to have the reset value since it was not used (i.e., 0xFF).</span></div>
<div class="line">    {</div>
<div class="line">        is_reading_writing_test_validation_successful = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Reading Writing Test 3 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Reading Writing Test 3 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- READING WRITING TEST 4: Expecting to see the 256 bytes that were supposedly written into the last Page of the W25Q128FV Flash Memory (i.e., Page 65355) ----- //</span></div>
<div class="line">    uint8_t page65355_read_data[256]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Page 65355 into our MCU/MPU.</span></div>
<div class="line">    memset(page65355_read_data, 0, 256); <span class="comment">// Setting all bytes of &quot;page65355_read_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;READING WRITING TEST 4 and 5: Expecting to see the 256 bytes that were supposedly written into the last Page of the W25Q128FV Flash Memory (i.e., Page 65355) only...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a>(65355, 0, 256, page65355_read_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at READING WRITING TEST 4 and 5 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Reseting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;256; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page65355_read_data[i] != page65355_data[i]) <span class="comment">// Expecting that the read data from the W25Q128FV Flash Memory matches the one that was sent.</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Reading Writing Test 4 and 5 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Reading Writing Test 4 and 5 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ##### ERASING DATA FROM THE W25Q128FV FLASH MEMORY DEVICE ##### //</span></div>
<div class="line">    <span class="comment">// ############################################################### //</span></div>
<div class="line">    <span class="comment">// ----- ERASING TEST 1: Erasing the contents of the first W25Q128FV Flash Memory Sector (i.e., erasing from Page 0 up to Page 15) ----- //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;ERASING TEST 1: Erasing the contents of the first W25Q128FV Flash Memory Sector (i.e., erasing from Page 0 up to Page 15)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa3c2bcc44deed581ecd61975378ca615">w25q128fv_erase_sector</a>(0);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_erase_sector() at ERASING TEST 1 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    uint8_t sector0_data[15*256]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Sector 0 into our MCU/MPU.</span></div>
<div class="line">    memset(sector0_data, 0, 15*256); <span class="comment">// Setting all bytes of &quot;sector0_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a>(0, 0, 15*256, sector0_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at ERASING TEST 1 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Resetting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;(15*256); i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (sector0_data[i] != 0xFF) <span class="comment">// Expecting these read bytes from the W25Q128FV Flash Memory to have the reset value since they were not used (i.e., 0xFF).</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    uint8_t page16_read_data[8]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Page 16 into our MCU/MPU.</span></div>
<div class="line">    memset(page16_read_data, 0, 8); <span class="comment">// Setting all bytes of &quot;page16_read_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a>(16, 0, 8, page16_read_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at ERASING TEST 1 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">for</span> (uint8_t i=0; i&lt;7; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page16_read_data[i] != page15_data[i+10]) <span class="comment">// Expecting that the read data from the W25Q128FV Flash Memory matches the ones that were sent.</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (page16_read_data[8] != 0xFF) <span class="comment">// Expecting this read byte from the W25Q128FV Flash Memory to have the reset value since it was not used (i.e., 0xFF).</span></div>
<div class="line">    {</div>
<div class="line">        is_reading_writing_test_validation_successful = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Erasing Test 1 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Erasing Test 1 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- ERASING TEST 2: Erasing the contents of the second W25Q128FV Flash Memory Sector (i.e., erasing from Page 16 up to Page 31) ----- //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;ERASING TEST 2: Erasing the contents of the second W25Q128FV Flash Memory Sector (i.e., erasing from Page 16 up to Page 31)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa3c2bcc44deed581ecd61975378ca615">w25q128fv_erase_sector</a>(1);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_erase_sector() at ERASING TEST 2 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    uint8_t sector1_data[15*256]; <span class="comment">// Variable where this program will store the data read from the W25Q128FV Flash Memory Sector 1 into our MCU/MPU.</span></div>
<div class="line">    memset(sector1_data, 0, 15*256); <span class="comment">// Setting all bytes of &quot;sector1_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a>(16, 0, 15*256, sector1_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at ERASING TEST 2 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Resetting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;(15*256); i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (sector1_data[i] != 0xFF) <span class="comment">// Expecting these read bytes from the W25Q128FV Flash Memory to have the reset value since they were not used (i.e., 0xFF).</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Erasing Test 2 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Erasing Test 2 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- ERASING TEST 3: Making sure that erasing sectors beyond the existing ones returns the proper Error Exception Code. ----- //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;ERASING TEST 3: Making sure that erasing sectors beyond the existing ones returns the proper Error Exception Code...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa3c2bcc44deed581ecd61975378ca615">w25q128fv_erase_sector</a>(4085);</div>
<div class="line">    <span class="keywordflow">if</span> (ret == <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2">W25Q128FV_EC_ERR</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Erasing Test 3 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The w25q128fv_erase_sector() function at Erasing Test 3 returned an unexpected Exception code = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ----- ERASING TEST 4: Erasing ALL the contents of the W25Q128FV Flash Memory (i.e., Execute a Chip Erase Instruction) ----- //</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;ERASING TEST 4: Erasing ALL the contents of the W25Q128FV Flash Memory (i.e., Execute a Chip Erase Instruction)...\r\n&quot;</span>);</div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#ga9552b91769f4583cd623ee75e6a18aa1">w25q128fv_chip_erase</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: W25Q128FV_EC_OK() at ERASING TEST 4 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    memset(page65355_data, 0, 256); <span class="comment">// Resetting all bytes of &quot;page65355_data&quot; to the value of 0 in decimal.</span></div>
<div class="line">    ret = <a class="code hl_function" href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a>(65355, 0, 256, page65355_data);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != <a class="code hl_enumvalue" href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a>)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: w25q128fv_fast_read_flash_memory() at ERASING TEST 4 has returned an exception code value = %d.\r\n&quot;</span>, ret);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// CHECK THAT THE DATA THAT WAS READ FROM THE W25Q128FV DEVICE IS THE EXPECTED ONE //</span></div>
<div class="line">    is_reading_writing_test_validation_successful = 1; <span class="comment">// Resetting the value of this Flag Variable.</span></div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t i=0; i&lt;256; i++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (page65355_data[i] != 0xFF) <span class="comment">// Expecting these read bytes from the W25Q128FV Flash Memory to have the reset value since they were not used (i.e., 0xFF).</span></div>
<div class="line">        {</div>
<div class="line">            is_reading_writing_test_validation_successful = 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (is_reading_writing_test_validation_successful == 1)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;SUCCESS: Erasing Test 4 was successful.\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;ERROR: The data that was read from the W25Q128FV Flash Memory at Erasing Test 4 is not what was expected to be.\r\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">while</span>(1); <span class="comment">// If there is an Error, then make the program stop here.</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\n##### ALL TESTS HAVE BEEN CONCLUDED #####\r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1); <span class="comment">// Stop the program here.</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// USER CODE BEGIN 4</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Compiler definition to be able to use the @ref printf function from stdio.h library in the STM32 MCU being used in order to print characters via the UART1 Peripheral but by using that @ref printf function.</span></div>
<div class="line"><span class="preprocessor">#ifdef __GNUC__</span></div>
<div class="line"><span class="comment">// With GCC, small printf (option LD Linker-&gt;Libraries-&gt;Small printf set to &#39;Yes&#39;) calls __io_putchar().</span></div>
<div class="line">    <span class="keywordtype">int</span> __io_putchar(<span class="keywordtype">int</span> ch)</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="keywordtype">int</span> fputc(<span class="keywordtype">int</span> ch, FILE *f)</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// __GNUC__</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// NOTE: The characters written into the UART1 Protocol will be looped until the end of transmission.</span></div>
<div class="line">    HAL_UART_Transmit(&amp;huart1, (uint8_t *) &amp;ch, 1, HAL_MAX_DELAY);</div>
<div class="line">    <span class="keywordflow">return</span> ch;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// USER CODE END 4</span></div>
<div class="ttc" id="agroup__w25q128fv_html_ga3917858d3b2cca79e0f42d68249908a5"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#ga3917858d3b2cca79e0f42d68249908a5">init_w25q128fv_module</a></div><div class="ttdeci">void init_w25q128fv_module(SPI_HandleTypeDef *hspi, W25Q128FV_peripherals_def_t *peripherals)</div><div class="ttdoc">Initializes the W25Q128FV Flash Memory module in order to be able to use its provided functions.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:86</div></div>
<div class="ttc" id="agroup__w25q128fv_html_ga8ef3cff981199be47cc895783206c069"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#ga8ef3cff981199be47cc895783206c069">w25q128fv_write_flash_memory</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_write_flash_memory(uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *src)</div><div class="ttdoc">Writes some desired data into the Flash Memory of the W25Q128FV device.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:325</div></div>
<div class="ttc" id="agroup__w25q128fv_html_ga9552b91769f4583cd623ee75e6a18aa1"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#ga9552b91769f4583cd623ee75e6a18aa1">w25q128fv_chip_erase</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_chip_erase(void)</div><div class="ttdoc">Erases all the data contained in the W25Q128FV Flash Memory Device.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:290</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gaa2f2b471e62406dd5127b01716398c6a"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gaa2f2b471e62406dd5127b01716398c6a">w25q128fv_read_flash_memory</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_read_flash_memory(uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *dst)</div><div class="ttdoc">Reads a desired segment of the Flash Memory of the W25Q128FV device.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:156</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gaa3c2bcc44deed581ecd61975378ca615"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gaa3c2bcc44deed581ecd61975378ca615">w25q128fv_erase_sector</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_erase_sector(uint32_t sector_number)</div><div class="ttdoc">Erases the data contained in a desired Flash Memory Sector of the W25Q128FV Flash Memory Device.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:241</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gaaac3e0a6464888e0415b4ac222495a4a"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gaaac3e0a6464888e0415b4ac222495a4a">w25q128fv_read_id</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_read_id(uint32_t *w25q128fv_id)</div><div class="ttdoc">Reads the JEDEC ID of the W25Q128FV Flash Memory Device and then formulates a 24-bit ID with it.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:116</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gacba905401cc4cb470ea8044f9f3aeff8"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gacba905401cc4cb470ea8044f9f3aeff8">w25q128fv_fast_read_flash_memory</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_fast_read_flash_memory(uint32_t start_page, uint8_t page_bytes_offset, uint32_t size, uint8_t *dst)</div><div class="ttdoc">Reads a desired segment of the Flash Memory of the W25Q128FV Device in Fast Mode.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:198</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gadd13a069f5a578d14510144dc9ab342a"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gadd13a069f5a578d14510144dc9ab342a">w25q128fv_software_reset</a></div><div class="ttdeci">W25Q128FV_Status w25q128fv_software_reset(void)</div><div class="ttdoc">Sends a Software Reset request to the W25Q128FV Flash Memory Device.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.c:95</div></div>
<div class="ttc" id="agroup__w25q128fv_html_gafb2edaca4d0a754d0297ee5f3e0717b7"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a></div><div class="ttdeci">W25Q128FV_Status</div><div class="ttdoc">W25Q128FV Exception codes.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:549</div></div>
<div class="ttc" id="agroup__w25q128fv_html_ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2">W25Q128FV_EC_ERR</a></div><div class="ttdeci">@ W25Q128FV_EC_ERR</div><div class="ttdoc">W25Q128FV Driver Process has failed.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:554</div></div>
<div class="ttc" id="agroup__w25q128fv_html_ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236"><div class="ttname"><a href="../../db/dc9/group__w25q128fv.html#ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236">W25Q128FV_EC_OK</a></div><div class="ttdeci">@ W25Q128FV_EC_OK</div><div class="ttdoc">W25Q128FV Driver Process was successful.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:550</div></div>
<div class="ttc" id="astruct_w25_q128_f_v___g_p_i_o__def__t_html_a619adea3bd0744a5f7fb77bf300b8cb5"><div class="ttname"><a href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html#a619adea3bd0744a5f7fb77bf300b8cb5">W25Q128FV_GPIO_def_t::GPIO_Pin</a></div><div class="ttdeci">uint16_t GPIO_Pin</div><div class="ttdoc">Pin number of the GPIO peripheral from to this W25Q128FV_GPIO_def_t structure will be associated with...</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:564</div></div>
<div class="ttc" id="astruct_w25_q128_f_v___g_p_i_o__def__t_html_a7ba6b71e06b666840b242b493f787d23"><div class="ttname"><a href="../../dc/d94/struct_w25_q128_f_v___g_p_i_o__def__t.html#a7ba6b71e06b666840b242b493f787d23">W25Q128FV_GPIO_def_t::GPIO_Port</a></div><div class="ttdeci">GPIO_TypeDef * GPIO_Port</div><div class="ttdoc">Type Definition of the GPIO peripheral port to which this W25Q128FV_GPIO_def_t structure will be asso...</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:563</div></div>
<div class="ttc" id="astruct_w25_q128_f_v__peripherals__def__t_html"><div class="ttname"><a href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html">W25Q128FV_peripherals_def_t</a></div><div class="ttdoc">W25Q128FV Flash Memory Device's Peripherals Definition parameters structure.</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:572</div></div>
<div class="ttc" id="astruct_w25_q128_f_v__peripherals__def__t_html_a0512e194dd231f8637d2ef83b338f068"><div class="ttname"><a href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html#a0512e194dd231f8637d2ef83b338f068">W25Q128FV_peripherals_def_t::CS</a></div><div class="ttdeci">W25Q128FV_GPIO_def_t CS</div><div class="ttdoc">Type Definition of the GPIO peripheral port to which the A terminal of the 5641AS 7-segment Display d...</div><div class="ttdef"><b>Definition</b> w25q128fv_driver.h:573</div></div>
<div class="ttc" id="aw25q128fv__driver_8h_html"><div class="ttname"><a href="../../d8/d32/w25q128fv__driver_8h.html">w25q128fv_driver.h</a></div><div class="ttdoc">W25Q128FV Flash Memory's driver Header file.</div></div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Cesar Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 23, 2024.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Credits are given to <a href="https://www.youtube.com/@ControllersTech">ControllersTech</a> for their contributions on their version of the W25Q Flash Memory Devices Driver Library, from which the author of the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> started to learn about the W25Q Series Devices. </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa59647f7784c336e9539eb9bc9c2a17f" name="gaa59647f7784c336e9539eb9bc9c2a17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa59647f7784c336e9539eb9bc9c2a17f">&#9670;&#160;</a></span>W25Q128FV_SPI_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define W25Q128FV_SPI_TIMEOUT&#160;&#160;&#160;(8500)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Designated timeout in milliseconds for our MCU/MPU to send/receive SPI transactions/data. </p>
<dl class="section note"><dt>Note</dt><dd>Make sure to adapt this value so that your MCU/MPU is able to complete a full read, write or any other type of request to your W25Q128FV Flash Memory Device. The best value for this definition will vary depending on the Clock Frequency that you set in your MCU/MPU. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gafb2edaca4d0a754d0297ee5f3e0717b7" name="gafb2edaca4d0a754d0297ee5f3e0717b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb2edaca4d0a754d0297ee5f3e0717b7">&#9670;&#160;</a></span>W25Q128FV_Status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>W25Q128FV Exception codes. </p>
<p>These Exception Codes are returned by the functions of the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> to indicate the resulting status of having executed the process contained in each of those functions. For example, to indicate that the process executed by a certain function was successful or that it has failed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236" name="ggafb2edaca4d0a754d0297ee5f3e0717b7a3684b17f47ba412421468f91b5cd8236"></a>W25Q128FV_EC_OK&#160;</td><td class="fielddoc"><p>W25Q128FV Driver Process was successful. </p>
<dl class="section note"><dt>Note</dt><dd>The code from the HAL_ret_handler function contemplates that this value will match the one given for <code>HAL_OK</code> from HAL_StatusTypeDef . </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ggafb2edaca4d0a754d0297ee5f3e0717b7a1df960356a8b4b8cdf9ac703ba35be7c" name="ggafb2edaca4d0a754d0297ee5f3e0717b7a1df960356a8b4b8cdf9ac703ba35be7c"></a>W25Q128FV_EC_STOP&#160;</td><td class="fielddoc"><p>W25Q128FV Driver Process has been stopped. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafb2edaca4d0a754d0297ee5f3e0717b7a8714ed72c29dd441de0e2f1ed623b16b" name="ggafb2edaca4d0a754d0297ee5f3e0717b7a8714ed72c29dd441de0e2f1ed623b16b"></a>W25Q128FV_EC_NR&#160;</td><td class="fielddoc"><p>W25Q128FV Driver Process has concluded with no response from W25Q128FV Device. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafb2edaca4d0a754d0297ee5f3e0717b7a18cf097ab1a2c9b81e96b0a99a673557" name="ggafb2edaca4d0a754d0297ee5f3e0717b7a18cf097ab1a2c9b81e96b0a99a673557"></a>W25Q128FV_EC_NA&#160;</td><td class="fielddoc"><p>W25Q128FV Driver Data received or to be received Not Applicable. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2" name="ggafb2edaca4d0a754d0297ee5f3e0717b7a05e61dfa494fef61faff3a083d0113a2"></a>W25Q128FV_EC_ERR&#160;</td><td class="fielddoc"><p>W25Q128FV Driver Process has failed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3917858d3b2cca79e0f42d68249908a5" name="ga3917858d3b2cca79e0f42d68249908a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3917858d3b2cca79e0f42d68249908a5">&#9670;&#160;</a></span>init_w25q128fv_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_w25q128fv_module </td>
          <td>(</td>
          <td class="paramtype">SPI_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hspi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d8f/struct_w25_q128_f_v__peripherals__def__t.html">W25Q128FV_peripherals_def_t</a> *&#160;</td>
          <td class="paramname"><em>peripherals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> in order to be able to use its provided functions. </p>
<p>This function stores in the p_hspi Global Static Pointer the address of the SPI Handle Structure of the SPI that is desired to be used by the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> to write, read and erase data to/from/in a W25Q128FV Flash Memory Device. In addition, it also stores in the p_w25q128fv_peripherals Global Static Pointer the address that points to the W25Q128FV Flash Memory Device's Peripherals Definition parameters structure so that the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> can allow our MCU/MPU to communicate, via its Pin Peripherals, with the W25Q128FV Device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hspi</td><td>Pointer to the SPI Handle Structure of the SPI that it is desired to use in the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> to write, read and erase data to/from/in a W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">peripherals</td><td>Pointer to the W25Q128FV Flash Memory Device's Peripherals Definition parameters structure that should contain the required data of the Pin Peripherals at which the W25Q128FV Flash Memory Device is expected to be connected at.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 16, 2024. </dd></dl>

</div>
</div>
<a id="ga9552b91769f4583cd623ee75e6a18aa1" name="ga9552b91769f4583cd623ee75e6a18aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9552b91769f4583cd623ee75e6a18aa1">&#9670;&#160;</a></span>w25q128fv_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_chip_erase </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases all the data contained in the W25Q128FV Flash Memory Device. </p>
<p>This function will send the Write Enable Instruction to the W25Q128FV Device in order to enable it to erase data in it. Subsequently, the Chip Erase Instruction will be sent to the W25Q128FV Device. Then, as stated in the W25Q128FV datasheet, a 200 seconds Delay will be made in order to give sufficient time to the W25Q128FV Device to finish erasing all its data. Finally, this function will conclude by sending the Write Disable Instruction to the W25Q128FV Device.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the Write enable, Chip Erase and Write Disable instructions were successfully sent to the W25Q128FV Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td><ul>
<li>
If the Write Enable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If the Write Disable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If anything else went wrong.  </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 10, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable chip_erase_instruction:</b> uint8_t variable that is used to hold the data containing the Chip Erase Instruction that is to be sent to the W25Q128FV Device in order to request to it to erase the entire data contained in the W25Q128FV Flash Memory Device.</p>

</div>
</div>
<a id="gaa3c2bcc44deed581ecd61975378ca615" name="gaa3c2bcc44deed581ecd61975378ca615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3c2bcc44deed581ecd61975378ca615">&#9670;&#160;</a></span>w25q128fv_erase_sector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_erase_sector </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sector_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erases the data contained in a desired Flash Memory Sector of the W25Q128FV Flash Memory Device. </p>
<dl class="section note"><dt>Note</dt><dd>A Sector Erase stands for the minimum amount of erasable bytes in a W25Q128FV Device. </dd>
<dd>
The size of a Sector is 16 pages (i.e., 4096 bytes) in a W25Q128FV Device.</dd></dl>
<p>This function will send the Write Enable Instruction to the W25Q128FV Device in order to enable it to erase data in it. Subsequently, the Sector Erase Instruction will be sent to the W25Q128FV Device, which will include the start of the Flash Memory Address of the Sector whose data wants to be erased. Then, as stated in the W25Q128FV datasheet, a 400ms Delay will be made in order to give sufficient time to the W25Q128FV Device to finish erasing the desired Sector. Finally, this function will conclude by sending the Write Disable Instruction to the W25Q128FV Device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector_number</td><td>Flash Memory Sector of the W25Q128FV Device whose data wants to be erased. Note that this value may be any from 0 up to W25Q128FV_TOTAL_SECTORS .</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the Write enable, Sector Erase and Write Disable instructions were successfully sent to the W25Q128FV Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td><ul>
<li>
If, the value of the Sector Number, given via the <code>sector_number</code> param, corresponds to a non-existent Sector in the W25Q128FV Flash Memory Device.  </li>
<li>
If the Write Enable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If the Write Disable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If anything else went wrong.  </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 10, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable w25q128fv_flash_memory_addr:</b> uint32_t Type variable used to hold the W25Q128FV Device 24-bit Flash Memory Address of the Sector whose data is to be erased.</p>
<p><b>Local variable sector_erase_instruction:</b> uint8_t array type variable that is used to hold the data containing the Sector Erase instruction that is to be sent to the W25Q128FV Device in order to erase the desired Sector's data.</p>

</div>
</div>
<a id="gacba905401cc4cb470ea8044f9f3aeff8" name="gacba905401cc4cb470ea8044f9f3aeff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacba905401cc4cb470ea8044f9f3aeff8">&#9670;&#160;</a></span>w25q128fv_fast_read_flash_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_fast_read_flash_memory </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>page_bytes_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a desired segment of the Flash Memory of the W25Q128FV Device in Fast Mode. </p>
<dl class="section note"><dt>Note</dt><dd>This Fast Mode must be used whenever the W25Q128FV Device is operating at its highest possible frequency (i.e., at 104MHz Clock Frequency).</dd></dl>
<p>This function will send the Fast Read Instruction to the W25Q128FV Device, which also includes the start of the Flash Memory Address where it is desired to start reading data and eight don't care bits for the eight Dummy Clocks of the Fast Read Instruction. After that, according to the W25Q128FV datasheet, it is expected to receive the actual Data contained from that Start Flash Memory Address up to the request Flash Memory Address. Note that the received Data can be from one or more Flash Memory Pages from a single Read Data Instruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">start_page</td><td>Flash Memory Page of the W25Q128FV Device from which it is desired to start reading data, where this value may be any from 0 up to 65355. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">page_bytes_offset</td><td>Offset in bytes inside the requested Flash Memory Page of the W25Q128FV Device from which it is desired to start reading data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>Size in bytes to read from the W25Q128FV Device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>Pointer to the start of the Memory Location Address of our MCU/MPU where it is desired to store Flash Memory data read from the W25Q128FV Device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Note that the valid values for both the <code>page_bytes_offset</code> and <code>size</code> params can be any from 0 up to W25Q128FV_FLASH_MEMORY_TOTAL_SIZE_IN_BYTES , as long as the W25Q128FV Flash Memory Addresses to read data are existing ones.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the W25Q128FV Fast Read Instruction was successfully sent to the W25Q128FV Device and if the data that was read from the Device was successfully stored into the Memory Address pointed to by the <code>dst</code> param. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td>if the W25Q128FV Flash Memory location addresses to be read exceed the existing ones or if anything else went wrong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 10, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable w25q128fv_flash_memory_addr:</b> uint32_t Type variable used to hold the W25Q128FV Device 24-bit Flash Memory Address from which it is desired to start reading data.</p>
<p><b>Local variable fast_read_instruction:</b> uint8_t array type variable that is used to hold the data containing the Fast Read instruction that is to be sent to the W25Q128FV Device in order to request reading data from it.</p>

</div>
</div>
<a id="gaa2f2b471e62406dd5127b01716398c6a" name="gaa2f2b471e62406dd5127b01716398c6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2f2b471e62406dd5127b01716398c6a">&#9670;&#160;</a></span>w25q128fv_read_flash_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_read_flash_memory </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>page_bytes_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a desired segment of the Flash Memory of the W25Q128FV device. </p>
<p>This function will send the Read Data Instruction to the W25Q128FV Device, which also includes the start of the Flash Memory Address where it is desired to start reading data. After that, according to the W25Q128FV datasheet, it is expected to receive the actual Data contained from that Start Flash Memory Address up to the request Flash Memory Address. Note that the received Data can be from one or more Flash Memory Pages from a single Read Data Instruction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">start_page</td><td>Flash Memory Page of the W25Q128FV Device from which it is desired to start reading data, where this value may be any from 0 up to 65355. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">page_bytes_offset</td><td>Offset in bytes inside the requested Flash Memory Page of the W25Q128FV Device from which it is desired to start reading data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>Size in bytes to read from the W25Q128FV Device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>Pointer to the start of the Memory Location Address of our MCU/MPU where it is desired to store Flash Memory data read from the W25Q128FV Device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Note that the valid values for both the <code>page_bytes_offset</code> and <code>size</code> params can be any from 0 up to W25Q128FV_FLASH_MEMORY_TOTAL_SIZE_IN_BYTES , as long as the W25Q128FV Flash Memory Addresses to read data are existing ones.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the W25Q128FV Read Data Instruction was successfully sent to the W25Q128FV Device and if the data that was read from the Device was successfully stored into the Memory Address pointed to by the <code>dst</code> param. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td>if the W25Q128FV Flash Memory location addresses to be read exceed the existing ones or if anything else went wrong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 10, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable w25q128fv_flash_memory_addr:</b> uint32_t Type variable used to hold the W25Q128FV Device 24-bit Flash Memory Address from which it is desired to start reading data.</p>
<p><b>Local variable read_data_instruction:</b> uint8_t array type variable that is used to hold the data containing the Read Data instruction that is to be sent to the W25Q128FV Device in order to request reading data from it.</p>

</div>
</div>
<a id="gaaac3e0a6464888e0415b4ac222495a4a" name="gaaac3e0a6464888e0415b4ac222495a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaac3e0a6464888e0415b4ac222495a4a">&#9670;&#160;</a></span>w25q128fv_read_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_read_id </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>w25q128fv_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the JEDEC ID of the W25Q128FV Flash Memory Device and then formulates a 24-bit ID with it. </p>
<p>This function will send the Read JEDEC ID Instruction to the W25Q128FV Device, after which it is expected to receive the Manufacture ID, Memory Type and Capacity values from that device according to the W25Q128FV datasheet.</p>
<p>If a response is received from the W25Q128FV Device after sending the Read JEDEC ID Instruction to it, then this function will formulate a 24-bit ID with that response, where the byte value corresponding to the Capacity will be assigned first, then the Memory Type value will be assigned in the next byte, and then the Manufacturer ID value will be placed in the third byte (i.e., Each of the bytes are basically shifted). </p><dl class="section note"><dt>Note</dt><dd>The author of this code did not invented this 24-bit ID methodology, concept and/or idea and was instead taken from <a href="https://controllerstech.com/w25q-flash-series-part-1-read-id">CONTROLLERSTECH Shop &amp; Learn website</a>, whose explanation is also available at their <a href="https://www.youtube.com/watch?v=OSfu4ST3dlY">YouTube video</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">w25q128fv_id</td><td>Pointer to the Memory Location Address where it is desired to store the 24-bit ID that this function formulates.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the W25Q128FV 24-bit ID is successfully formulated and stored into the Memory Address pointed to by the <code>w25q128fv_id</code> param. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td>if anything else went wrong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 01, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable read_jedec_id_instruction:</b> uint8_t type variable that is used to hold the data containing the Read JEDEC ID instruction that is to be sent to the W25Q128FV Device in order to request to it a read of its JEDEC ID.</p>
<p><b>Local variable w25q128fv_resp:</b> uint8_t array variable of three bytes in size that will be used to hold the response of the W25Q128FV Device after sending to it a request to read its JEDEC ID.</p>

</div>
</div>
<a id="gadd13a069f5a578d14510144dc9ab342a" name="gadd13a069f5a578d14510144dc9ab342a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd13a069f5a578d14510144dc9ab342a">&#9670;&#160;</a></span>w25q128fv_software_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_software_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a Software Reset request to the W25Q128FV Flash Memory Device. </p>
<p>For this purpose, both the Enable Reset and the Reset Device Instructions described in the datasheet are sent to the W25Q128FV Device in that orderly fashion.</p>
<p>If these Instructions are successfully sent to the W25Q128FV Device, then a 1ms delay will be made at the end of the processes made inside this function in order to give time to the W25Q128FV Device to conclude its Software Reset process. </p><dl class="section note"><dt>Note</dt><dd>The W25Q128FV Datasheet states that the W25Q128FV Device will take an approximate of 30us to apply a Software Reset. However, this <a class="el" href="../../db/dc9/group__w25q128fv.html#gadd13a069f5a578d14510144dc9ab342a">w25q128fv_software_reset</a> function will call instead a 1ms Delay due to that this is the lowest possible delay that can be achieved with the HAL_Delay function and also for simplicity reasons (i.e., To not employ a Timer for this purpose or to create a function with NOP Assembler Commands or anything else more elaborated than simply calling the HAL_Delay function).</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the Software Reset request was successfully sent to the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td>if anything else went wrong.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 01, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable reset_instruction:</b> uint8_t array variable of two bytes in size that is used to hold the data containing both the Enable Reset and Reset Device instructions that are to be sent to the W25Q128FV Device in order to request to it a Software Reset.</p>

</div>
</div>
<a id="ga8ef3cff981199be47cc895783206c069" name="ga8ef3cff981199be47cc895783206c069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ef3cff981199be47cc895783206c069">&#9670;&#160;</a></span>w25q128fv_write_flash_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> w25q128fv_write_flash_memory </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>page_bytes_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes some desired data into the Flash Memory of the W25Q128FV device. </p>
<p>This function will send the desired data in several segmented parts, where for each part, the Write Enable Instruction to the W25Q128FV Device in order to enable it to write data in it. Subsequently, a Page Program Instruction will be sent to the W25Q128FV Device with up to 255 bytes of the desired data so that they are written into that Device. Then, as stated in the W25Q128FV datasheet, a 3 milliseconds Delay will be made in order to give sufficient time to the W25Q128FV Device to finish programming the requested data. After that, this function will send a Write Disable Instruction to the W25Q128FV Device. Finally, this entire process that has been described will be repeated as many times as required in order to write the entire desired data into the W25Q128FV Device.</p>
<p>Each time a Page Program Instruction is sent to the W25Q128FV Device, this function will send only one byte of the desired data to that Device only whenever the currently W25Q128FV Flash Memory Page has not been written after this function has been called (prior calls are not taken into account) and, at the same time, whenever this function is to start writing data from the first W25Q128FV Flash Memory Address that belongs to that W25Q128FV Flash Memory Page. On the other hand, any other case, the bytes of the desired data will be send at each Page Program Instruction until the currently W25Q128FV Flash Memory Page being written is full of data, which should be from 1 up to 255 bytes per Page Program Instruction. The number of bytes sent to the W25Q128FV Device will depend on whether you defined a value on the <code>page_bytes_offset</code> param during the first W25Q128FV Flash Memory Page being written, if the remaining bytes to be written can fit into the current W25Q128FV Flash Memory Page or if 255 bytes of data can fit into the current W25Q128FV Flash Memory Page.</p>
<dl class="section note"><dt>Note</dt><dd>The reason for limiting sending and writing data up to 255 bytes at a time, whenever using the Page Program Instruction, is because of how the Page Program Instruction actually works according to the W25Q128FV datasheet. In more details, the reason is because only a whole W25Q128FV Flash Memory Page minus 1 byte can be consecutively written at a time, since if a whole Page is written in a single instruction, then the last byte must strictly be set to 0x00, and if more bytes than the size of a Page is written in a single instruction, then whenever exceeding that size, the W25Q128FV Device will start overwriting the bytes from the beginning of that same Page. As a result, due to these explained reasons, it was decided that this function will send and write from 1 up to 255 bytes at a time, until all the requested data is written into the W25Q128FV Device. </dd>
<dd>
<b style="color:red">WARNING:</b> It is responsibility of the implementer of this <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> to Write data into the W25Q128FV Flash Memory once only and to erase the written data before writing new ones in those corresponding W25Q128FV Flash Memory Addresses. This is because this is how Flash Memories in general are supposed to work and it is how the <a class="el" href="../../db/dc9/group__w25q128fv.html">W25Q128FV Flash Memory module</a> contemplates that the W25Q128FV Device works.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">start_page</td><td>Flash Memory Page of the W25Q128FV Device from which it is desired to start writing data, where this value may be any from 0 up to 65355. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">page_bytes_offset</td><td>Offset in bytes inside the requested Flash Memory Page of the W25Q128FV Device from which it is desired to start writing data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>Size in bytes to write into the W25Q128FV Device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">src</td><td>Pointer to the start of the Memory Location Address of our MCU/MPU where the desired data to be stored into the W25Q128FV Flash Memory is located at.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Note that the valid values for both the <code>page_bytes_offset</code> and <code>size</code> params can be any from 0 up to W25Q128FV_FLASH_MEMORY_TOTAL_SIZE_IN_BYTES , as long as the W25Q128FV Flash Memory Addresses to write data are existing ones.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">W25Q128FV_EC_OK</td><td>if the W25Q128FV Page Program Instruction was successfully sent to the W25Q128FV Device and if the requested data, from where the <code>src</code> param points to, was successfully written into the W25Q128FV Flash Memory. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_NR</td><td>if there was no response from the W25Q128FV Flash Memory Device. </td></tr>
    <tr><td class="paramname">W25Q128FV_EC_ERR</td><td><ul>
<li>
If the W25Q128FV Flash Memory location addresses to be written exceed the existing ones.  </li>
<li>
If the Write Enable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If the Write Disable Instruction could not be successfully send to the W25Q128FV Flash Memory Device.  </li>
<li>
If anything else went wrong.  </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>César Miranda Meza (<a href="#" onclick="location.href='mai'+'lto:'+'cmi'+'ra'+'nda'+'me'+'za3'+'@h'+'otm'+'ai'+'l.c'+'om'; return false;">cmira<span class="obfuscator">.nosp@m.</span>ndam<span class="obfuscator">.nosp@m.</span>eza3@<span class="obfuscator">.nosp@m.</span>hotm<span class="obfuscator">.nosp@m.</span>ail.c<span class="obfuscator">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 22, 2024. </dd></dl>
<p><b>Local variable ret:</b> uint8_t Type variable used to hold the Return value of either a HAL function or a <a class="el" href="../../db/dc9/group__w25q128fv.html#gafb2edaca4d0a754d0297ee5f3e0717b7">W25Q128FV_Status</a> function type.</p>
<p><b>Local variable w25q128fv_flash_memory_addr_start:</b> uint32_t Type variable used to hold the W25Q128FV Device 24-bit Flash Memory Address where it is desired to start writing data.</p>
<p><b>Local variable w25q128fv_flash_memory_addr_end_plus_one:</b> uint32_t Type variable used to hold the W25Q128FV Device 24-bit Flash Memory Address that is right after where it is expected for this function to write the last byte of the request data.</p>
<p><b>Local variable w25q128fv_flash_memory_page_start:</b> uint32_t Type variable used to hold the W25Q128FV Device Flash Memory Page where it is expected for that Device to start writing the desired data.</p>
<p><b>Local variable page_program_instruction:</b> uint8_t array type variable that is used to hold the data containing the Page Program instruction that is to be sent to the W25Q128FV Device in order to request writing data into it.</p>
<p><b>Local Pointer page_program_instruction_data:</b> uint8_t Pointer type variable that is used to point to the byte at which the page_program_instruction Local Variable holds the actual data to be sent to the W25Q128FV Device in the next Page Program Instruction.</p>
<p><b>Local variable currently_written_bytes:</b> uint32_t Type variable that will hold the value standing for the currently written bytes into the W25Q128FV Flash Memory Device.</p>
<p><b>Local variable current_page_program_instruction_size:</b> uint16_t Type variable that holds the current size in bytes of the W25Q128FV Page Program Instruction that is currently being formulated.</p>
<p><b>Local variable current_page_to_write:</b> uint32_t Type variable that will hold the currently W25Q128FV Flash Memory Page at which this function is currently writing the desired data.</p>
<p><b>Local variable next_page_to_write:</b> uint32_t Type variable that will hold the next W25Q128FV Flash Memory Page at which this function is currently writing the desired data.</p>
<p><b>Local variable remaining_writable_bytes_in_current_page:</b> uint8_t Type variable that will hold the currently remaining writable bytes in the current W25Q128FV Flash Memory Page at which this function is currently to write the desired data.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
